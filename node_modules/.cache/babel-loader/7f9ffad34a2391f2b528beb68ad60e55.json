{"ast":null,"code":"import _objectSpread from \"D:\\\\node-js\\\\react-crud-api-call\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"D:\\\\node-js\\\\react-crud-api-call\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"D:\\\\node-js\\\\react-crud-api-call\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\node-js\\\\react-crud-api-call\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"D:\\\\node-js\\\\react-crud-api-call\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\node-js\\\\react-crud-api-call\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\node-js\\\\react-crud-api-call\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\node-js\\\\react-crud-api-call\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport \"./styles.css\";\nimport List from \"./components/task/List\";\nimport Form from \"./components/task/Form\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport { getList, addItem, updateItem, deleteItem } from \"./function/ListFunctions\";\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this);\n\n    _this.getAll = function () {\n      getList().then(function (data) {\n        _this.setState({\n          items: _toConsumableArray(data)\n        }, console.log(data));\n      });\n    };\n\n    _this.setLoading = function (bool) {\n      _this.setState({\n        isLoading: bool\n      });\n    };\n\n    _this.clearForm = function () {\n      _this.setState({\n        form: {\n          selectedItem: {\n            id: \"\",\n            provider: \"\",\n            quota: \"\",\n            price: \"\",\n            stock: \"\",\n            info: \"\"\n          }\n        },\n        editMode: false\n      });\n    };\n\n    _this.onChange = function (name, value) {\n      var form = _this.state.form;\n\n      var newForm = _objectSpread(_objectSpread({}, form), {}, {\n        [name]: value\n      });\n\n      _this.setState({\n        form: newForm\n      });\n    };\n\n    _this.onCreate = function () {\n      _this.setLoading(true);\n\n      addItem(_this.state.form).then(function () {\n        _this.getAll();\n\n        _this.setLoading(false);\n      }).catch(function (error) {\n        _this.setLoading(false);\n\n        alert(error);\n      });\n\n      _this.clearForm();\n    };\n\n    _this.onEdit = function (index) {\n      var formItem = _toConsumableArray(_this.state.items)[index];\n\n      _this.setState({\n        form: formItem,\n        editMode: true\n      });\n    };\n\n    _this.onUpdate = function () {\n      _this.setLoading(true);\n\n      updateItem(_this.state.form).then(function () {\n        _this.getAll();\n\n        _this.setLoading(false);\n      }).catch(function (error) {\n        _this.setLoading(false);\n\n        alert(error);\n      });\n\n      _this.clearForm();\n    };\n\n    _this.onDelete = function (val) {\n      _this.setLoading(true);\n\n      deleteItem(val).then(function () {\n        _this.getAll();\n\n        _this.setLoading(false);\n      }).catch(function (error) {\n        _this.setLoading(false);\n\n        alert(error);\n      });\n    };\n\n    _this.state = {\n      selectedItem: {\n        id: \"\",\n        provider: \"\",\n        quota: \"\",\n        price: \"\",\n        stock: \"\",\n        info: \"\"\n      },\n      items: [],\n      editMode: false,\n      isLoading: false\n    };\n    _this.onCreate = _this.onCreate.bind(_assertThisInitialized(_this));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    _this.onEdit = _this.onEdit.bind(_assertThisInitialized(_this));\n    _this.onDelete = _this.onDelete.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getAll();\n      console.log(this.state);\n    } // Get all data\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(LoadingOverlay, {\n        active: this.state.isLoading,\n        spinner: true,\n        text: \"Loading your content...\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-6 mx-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 15\n        }\n      }, \"Todo List\"), /*#__PURE__*/React.createElement(Form, {\n        editMode: this.state.editMode,\n        item: this.state.form,\n        onCreate: this.onCreate,\n        onChange: this.onChange,\n        onUpdate: this.onUpdate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(List, {\n        editMode: this.state.editMode,\n        items: this.state.items.selectedItem,\n        onEdit: this.onEdit,\n        onDelete: this.onDelete,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 15\n        }\n      })))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["D:/node-js/react-crud-api-call/src/App.js"],"names":["React","Component","List","Form","LoadingOverlay","getList","addItem","updateItem","deleteItem","App","getAll","then","data","setState","items","console","log","setLoading","bool","isLoading","clearForm","form","selectedItem","id","provider","quota","price","stock","info","editMode","onChange","name","value","state","newForm","onCreate","catch","error","alert","onEdit","index","formItem","onUpdate","onDelete","val","bind"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./styles.css\";\nimport List from \"./components/task/List\";\nimport Form from \"./components/task/Form\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport {\n  getList,\n  addItem,\n  updateItem,\n  deleteItem,\n} from \"./function/ListFunctions\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      selectedItem: {\n        id: \"\",\n        provider: \"\",\n        quota: \"\",\n        price: \"\",\n        stock: \"\",\n        info: \"\",\n      },\n      items: [],\n      editMode: false,\n      isLoading: false,\n    };\n\n    this.onCreate = this.onCreate.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.onEdit = this.onEdit.bind(this);\n    this.onDelete = this.onDelete.bind(this);\n  }\n\n  componentDidMount() {\n    this.getAll();\n    console.log(this.state);\n  }\n\n  // Get all data\n  getAll = () => {\n    getList().then((data) => {\n      this.setState(\n        {\n          items: [...data],\n        },\n        console.log(data)\n      );\n    });\n  };\n\n  // Get all data\n  setLoading = (bool) => {\n    this.setState({ isLoading: bool });\n  };\n\n  // clear all input form\n  clearForm = () => {\n    this.setState({\n      form: {\n        selectedItem: {\n          id: \"\",\n          provider: \"\",\n          quota: \"\",\n          price: \"\",\n          stock: \"\",\n          info: \"\",\n        },\n      },\n      editMode: false,\n    });\n  };\n\n  // Handle on change input\n  onChange = (name, value) => {\n    const { form } = this.state;\n    const newForm = { ...form, [name]: value };\n\n    this.setState({ form: newForm });\n  };\n\n  // Save data\n  onCreate = () => {\n    this.setLoading(true);\n\n    addItem(this.state.form)\n      .then(() => {\n        this.getAll();\n        this.setLoading(false);\n      })\n      .catch((error) => {\n        this.setLoading(false);\n        alert(error);\n      });\n\n    this.clearForm();\n  };\n\n  // Show data into edit form\n  onEdit = (index) => {\n    var formItem = [...this.state.items][index];\n    this.setState({\n      form: formItem,\n      editMode: true,\n    });\n  };\n\n  // Save edit data\n  onUpdate = () => {\n    this.setLoading(true);\n\n    updateItem(this.state.form)\n      .then(() => {\n        this.getAll();\n        this.setLoading(false);\n      })\n      .catch((error) => {\n        this.setLoading(false);\n        alert(error);\n      });\n\n    this.clearForm();\n  };\n\n  // Delete data\n  onDelete = (val) => {\n    this.setLoading(true);\n\n    deleteItem(val)\n      .then(() => {\n        this.getAll();\n        this.setLoading(false);\n      })\n      .catch((error) => {\n        this.setLoading(false);\n        alert(error);\n      });\n  };\n\n  render() {\n    return (\n      <LoadingOverlay\n        active={this.state.isLoading}\n        spinner\n        text=\"Loading your content...\"\n      >\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-6 mx-auto\">\n              <br />\n              <h1 className=\"text-center\">Todo List</h1>\n              <Form\n                editMode={this.state.editMode}\n                item={this.state.form}\n                onCreate={this.onCreate}\n                onChange={this.onChange}\n                onUpdate={this.onUpdate}\n              />\n              <List\n                editMode={this.state.editMode}\n                items={this.state.items.selectedItem}\n                onEdit={this.onEdit}\n                onDelete={this.onDelete}\n              />\n            </div>\n          </div>\n        </div>\n      </LoadingOverlay>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}